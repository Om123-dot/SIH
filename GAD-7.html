<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GAD-7 Interactive Story</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body, html { height: 100%; font-family: 'Poppins', sans-serif; background: #f3f4f6; color: #222; }

  .container { display: flex; width: 100%; height: 100vh; }

  /* Panels */
  .left-panel, .right-panel {
    width: 50%; height: 100%;
    padding: 30px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
  }
  .left-panel { background: linear-gradient(135deg,#ffffff,#f9fafb); box-shadow: 2px 0 12px rgba(0,0,0,0.1); text-align: center; }
  .story-text { font-size: 20px; line-height: 1.6; margin-bottom: 20px; opacity: 0; animation: fadeIn 1s forwards; }
  .story-image { max-width: 80%; border-radius: 16px; box-shadow: 0 6px 20px rgba(0,0,0,0.15); opacity: 0; animation: fadeIn 1s 0.3s forwards; }

  /* Right Panel */
  .right-panel { background: #f9f9f9; text-align: left; }
  .progress-bar { width: 80%; height: 12px; background: #d1d5db; border-radius: 8px; margin-bottom: 25px; overflow: hidden; }
  .progress-fill { height: 100%; width: 0%; background: linear-gradient(90deg,#6f42c1,#9333ea); transition: width 0.6s ease; }

  .question-box { background: #ffffff; padding: 25px; border-radius: 14px; margin-bottom: 20px; box-shadow: 0 6px 16px rgba(0,0,0,0.12); width: 80%; font-size: 18px; transform: translateY(20px); opacity: 0; animation: slideIn 0.8s forwards; }
  .options { width: 80%; background: #ffffff; padding: 20px; border-radius: 14px; box-shadow: 0 6px 16px rgba(0,0,0,0.12); margin-bottom: 25px; transform: translateY(20px); opacity: 0; animation: slideIn 0.8s 0.2s forwards; }
  .option-item { display: flex; align-items: center; margin: 12px 0; font-size: 16px; cursor: pointer; padding: 8px; border-radius: 8px; transition: 0.3s; }
  .option-item:hover { background: #f3e8ff; box-shadow: 0 2px 8px rgba(111,66,193,0.3); }
  .option-item input { margin-right: 12px; width: 18px; height: 18px; cursor: pointer; }

  /* Buttons */
  .nav-buttons { display: flex; justify-content: space-between; width: 80%; max-width: 400px; }
  .nav-buttons button { padding: 12px 22px; font-size: 16px; border: none; border-radius: 10px; cursor: pointer; transition: 0.3s; background: linear-gradient(90deg,#6f42c1,#9333ea); color: white; font-weight: 500; box-shadow: 0 4px 10px rgba(111,66,193,0.4); }
  .nav-buttons button:hover { background: linear-gradient(90deg,#7e57c2,#a855f7); transform: scale(1.05); }

  /* Result */
  .result { font-size: 22px; background: #ffffff; padding: 25px; border-radius: 14px; max-width: 80%; box-shadow: 0 6px 16px rgba(0,0,0,0.15); line-height: 1.6; }

  /* Animations */
  @keyframes fadeIn { to { opacity: 1; } }
  @keyframes slideIn { to { transform: translateY(0); opacity: 1; } }

  @media(max-width: 768px){
    .container { flex-direction: column; }
    .left-panel, .right-panel { width: 100%; height: auto; }
  }
</style>
</head>
<body>

<div class="container">
  <div class="left-panel">
    <div id="storyText" class="story-text"></div>
    <img id="storyImage" class="story-image" src="mentalhealth.jpg" alt="Story Image">
  </div>

  <div class="right-panel">
    <div class="progress-bar"><div class="progress-fill"></div></div>
    <div id="questionBox" class="question-box"></div>
    <div class="options" id="optionsBox"></div>
    <div class="nav-buttons">
      <button id="prevBtn">⬅ Previous</button>
      <button id="nextBtn">Next ➡</button>
    </div>
    <div id="resultBox" class="result" style="display:none;"></div>
  </div>
</div>

<script>
  const questions = [
    {story:"You’re about to give a presentation, and your palms sweat as your heart races.", question:"Feeling nervous, anxious, or on edge?", image:"https://via.placeholder.com/400x200?text=Anxiety"},
    {story:"At night, your mind won’t stop replaying worries, keeping you awake.", question:"Not being able to stop or control worrying?", image:"https://via.placeholder.com/400x200?text=Worry"},
    {story:"Small issues—like a late reply—spiral into bigger worries in your mind.", question:"Worrying too much about different things?", image:"https://via.placeholder.com/400x200?text=Overthinking"},
    {story:"You sit down to read, but your mind drifts off, unable to focus.", question:"Trouble relaxing?", },
    {story:"You feel restless, like you can’t sit still, tapping your foot or pacing.", question:"Being so restless that it is hard to sit still?", image:"https://via.placeholder.com/400x200?text=Restlessness"},
    {story:"Your mood feels heavy. Irritation sparks quickly, even at small things.", question:"Becoming easily annoyed or irritable?", image:"https://via.placeholder.com/400x200?text=Irritable"},
    {story:"You feel overwhelmed, sensing something terrible might happen, even without reason.", question:"Feeling afraid as if something awful might happen?", image:"https://via.placeholder.com/400x200?text=Fear"}
  ];

  const options = [
    {text:"Not at all", score:0},
    {text:"Several days", score:1},
    {text:"More than half the days", score:2},
    {text:"Nearly every day", score:3}
  ];

  let current=0;
  let answers=Array(questions.length).fill(null);

  const storyText=document.getElementById("storyText");
  const storyImage=document.getElementById("storyImage");
  const qBox=document.getElementById("questionBox");
  const oBox=document.getElementById("optionsBox");
  const fill=document.querySelector(".progress-fill");
  const resultBox=document.getElementById("resultBox");

  function loadQuestion(){
    if(current<questions.length){
      storyText.style.opacity=0; storyImage.style.opacity=0; qBox.style.opacity=0; oBox.style.opacity=0;

      setTimeout(()=>{
        storyText.textContent=questions[current].story;
        //storyImage.src=questions[current].image;
        qBox.textContent="Question "+(current+1)+": "+questions[current].question;
        oBox.innerHTML="";

        options.forEach((opt,i)=>{
          const label=document.createElement("label");
          label.className="option-item";
          const radio=document.createElement("input");
          radio.type="radio"; radio.name="question"+current;
          radio.checked=answers[current]===i;
          radio.addEventListener("change",()=>{answers[current]=i;});
          label.appendChild(radio);
          label.appendChild(document.createTextNode(opt.text));
          oBox.appendChild(label);
        });

        storyText.style.opacity=1; storyImage.style.opacity=1; qBox.style.opacity=1; oBox.style.opacity=1;
      },200);

      fill.style.width=((current+1)/questions.length)*100+"%";
      qBox.style.display="block"; oBox.style.display="block";
      document.querySelector(".nav-buttons").style.display="flex";
      resultBox.style.display="none";
    } else {
      showResult();
    }
  }

  function showResult(){
    qBox.style.display="none"; oBox.style.display="none";
    document.querySelector(".nav-buttons").style.display="none";

    let total=answers.reduce((sum,ans)=>sum+(ans!==null?options[ans].score:0),0);
    let condition="", recommendations="";

    if(total<=4){
      condition="Minimal anxiety.";
      recommendations="• Practice relaxation\n• Maintain sleep and exercise\n• Stay socially connected";
    } else if(total<=9){
      condition="Mild anxiety.";
      recommendations="• Try breathing exercises\n• Limit caffeine\n• Journaling can help";
    } else if(total<=14){
      condition="Moderate anxiety.";
      recommendations="• Consider therapy\n• Build structured routines\n• Mindfulness practice";
    } else {
      condition="Severe anxiety.";
      recommendations="• Seek professional help promptly\n• Involve family/friends\n• Avoid isolation";
    }

    resultBox.innerHTML=`<h2>Your GAD-7 Score: ${total}/21</h2>
      <p>${condition}</p>
      <div class="recommendation"><strong>Recommendations:</strong><br>${recommendations.replace(/\n/g,"<br>")}</div>`;
    resultBox.style.display="block";
  }

  document.getElementById("nextBtn").addEventListener("click",()=>{
    if(current<questions.length-1){current++;loadQuestion();}
    else{showResult();}
  });
  document.getElementById("prevBtn").addEventListener("click",()=>{
    if(current>0){current--;loadQuestion();}
  });

  loadQuestion();
</script>

</body>
</html>
